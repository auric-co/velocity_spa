<mat-card style="max-width: 810px; margin: 0 auto;">
  <img src="./../../../assets/images/counselling.jpg" width="100%" height="20%" alt="Counselling">
  <br>
  <h2 class="center">Request Counselling Appointment</h2>
</mat-card>
<br>
<mat-card style="max-width: 810px; margin: 0 auto;">
  <form [formGroup]="requestForm">
    <div class="content" fxLayout="row wrap" fxLayoutGap="5px grid">
      <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Choose Category</mat-label>
          <mat-select formControlName="category" class="input100"  (selectionChange)="selectChangeHandler($event)">
            <mat-option *ngFor="let category of categories" [value]="category.id">
              {{category.title}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="errors.category">{{errors.category[0]}}</mat-error>
          <mat-error *ngIf="category.invalid && category.touched">{{get_category_error()}}</mat-error>
        </mat-form-field>
      </div>
      <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%" *ngIf="cat === 13">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Please Specify</mat-label>
          <textarea matInput formControlName="other"></textarea>
          <mat-error *ngIf="errors.other">{{errors.other[0]}}</mat-error>
          <mat-error *ngIf="other.invalid && other.touched">{{get_other_error()}}</mat-error>
        </mat-form-field>
      </div>
      <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Choose Platform</mat-label>
          <mat-select formControlName="platform" class="input100">
            <mat-option *ngFor="let platform of platforms" [value]="platform.id">
              {{platform.title}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="errors.platform">{{errors.platform[0]}}</mat-error>
          <mat-error *ngIf="platform.invalid && platform.touched">{{get_platform_error()}}</mat-error>
        </mat-form-field>
      </div>

      <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
        <mat-form-field appearance="outline" class="w-100">
          <input matInput [matDatepicker]="picker" class="input100" placeholder="Choose a date" formControlName="date">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="errors.date">{{errors.date[0]}}</mat-error>
          <mat-error *ngIf="date.invalid && date.touched">{{get_date_error()}}</mat-error>
        </mat-form-field>
      </div>
      <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Choose Time</mat-label>
          <input matInput placeholder="Choose time" class="input100" aria-label="24hr format" [ngxTimepicker]="fullTime" [format]="24" formControlName="time">
          <ngx-material-timepicker #fullTime></ngx-material-timepicker>
          <mat-error *ngIf="errors.time">{{errors.time[0]}}</mat-error>
          <mat-error *ngIf="time.invalid && time.touched">{{get_time_error()}}</mat-error>
        </mat-form-field>
      </div>
      <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Contact</mat-label>
          <input matInput class="input100" placeholder="Enter contact number" formControlName="contact" value="">
          <mat-error *ngIf="errors.contact">{{errors.contact[0]}}</mat-error>
          <mat-error *ngIf="contact.invalid && contact.touched">{{get_contact_error()}}</mat-error>
        </mat-form-field>
      </div>

    </div>

    <mat-card-actions align="center">
      <div class="content" fxLayout="row wrap" fxLayoutGap="16px grid">
        <div fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
          <button  mat-raised-button routerLink="/dashboard/counselling" class="cancel" color="warn">
            Cancel
          </button>
        </div>
        <div fxFlex="50%" fxFlex.xs="50%" fxFlex.sm="50%">
          <button  mat-raised-button color="primary" class="submit" [disabled]="!requestForm.valid" (click)="submit()">
            Submit
          </button>
        </div>
      </div>
    </mat-card-actions>

  </form>
</mat-card>
